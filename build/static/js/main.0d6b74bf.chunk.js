(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/playlist.02358673.svg"},36:function(e,t,a){e.exports=a.p+"static/media/play.046923e6.svg"},37:function(e,t,a){e.exports=a.p+"static/media/enter.d5087dca.svg"},38:function(e,t,a){e.exports=a.p+"static/media/notes.8bdf2406.svg"},39:function(e,t,a){e.exports=a.p+"static/media/exit.5348a0f2.svg"},40:function(e,t,a){e.exports=a.p+"static/media/user.2a2ea2f3.svg"},41:function(e,t,a){e.exports=a.p+"static/media/karaoke.18bae7b0.svg"},42:function(e,t,a){e.exports=a.p+"static/media/options_two.35ea1adf.svg"},43:function(e,t,a){e.exports=a.p+"static/media/previous.e8585927.svg"},44:function(e,t,a){e.exports=a.p+"static/media/playbutton.2a63962d.svg"},45:function(e,t,a){e.exports=a.p+"static/media/pause.bfb53c3e.svg"},46:function(e,t,a){e.exports=a.p+"static/media/next.eff6edb1.svg"},48:function(e,t,a){e.exports=a(91)},54:function(e,t,a){},56:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(23),i=a.n(l),o=(a(54),a(47)),r=a(3),c=a(4),d=a(7),u=a(5),m=a(6),p=a(2),h=(a(56),a(93)),g=a(35),v=a.n(g),y=a(36),_=a.n(y),f=a(37),b=a.n(f),E=a(38),O=a.n(E),k=a(39),N=a.n(k),j=a(40),S=a.n(j),w=a(41),C=a.n(w),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"sidebar"},s.a.createElement("p",{className:"sidebar-title"},"Library"),s.a.createElement(h.a,{exact:!0,to:"/"},s.a.createElement("img",{alt:"playlist",className:"nav-image",height:"20",width:"20",src:C.a}),s.a.createElement("span",null,"Home")),s.a.createElement(h.a,{to:"/songs/"},s.a.createElement("img",{alt:"playlist",className:"nav-image",height:"20",width:"20",src:_.a}),s.a.createElement("span",null,"Songs")),s.a.createElement(h.a,{to:"/playlist/"},s.a.createElement("img",{alt:"playlist",className:"nav-image",height:"20",width:"20",src:v.a}),s.a.createElement("span",null,"Playlist")),s.a.createElement("p",{className:"d-none d-md-block d-lg-block sidebar-title account"},"Accounts"),""!==this.props.user?s.a.createElement("div",null,s.a.createElement(h.a,{to:"#"},s.a.createElement("img",{alt:"user",className:"nav-image",height:"20",width:"20",src:S.a}),s.a.createElement("span",{className:"username"},this.props.user)),s.a.createElement("a",{href:"#",onClick:this.props.logout}," ",s.a.createElement("img",{alt:"exit",className:"nav-image",height:"20",width:"20",src:N.a}),s.a.createElement("span",null,"Logout"))):s.a.createElement("div",null,s.a.createElement(h.a,{to:"/login/"},s.a.createElement("img",{alt:"playlist",className:"nav-image",height:"20",width:"20",src:b.a}),s.a.createElement("span",null,"Login")),s.a.createElement(h.a,{to:"/register/"},s.a.createElement("img",{alt:"playlist",className:"nav-image",height:"20",width:"20",src:O.a}),s.a.createElement("span",null,"Register"))),s.a.createElement("p",{className:"d-none d-md-block d-lg-block sidebar-title copy text-center"},"2018 MusicMaxx \xa9 All right reserved")))}}]),t}(n.Component),P=a(94),A=a(92),T=a(8),M=a.n(T),I={BASE_URL:"http://musicmaxx.herokuapp.com/",LOCAL_BASE_URL:"http://127.0.0.1:8000/"},L=a(42),B=a.n(L),R=a(11),F=(a(89),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={hidden:!0},a.addToQueue=a.addToQueue.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"more_options",value:function(e,t){t.stopPropagation(),this.setState({hidden:!this.state.hidden})}},{key:"showModal",value:function(e){this.props.show_modal(e),this.props.get_playlist(),this.setState({hidden:!this.state.hidden})}},{key:"playlist_song",value:function(e){this.setState({hidden:!0});var t=new FormData;t.set("song_title",e.snippet.title),t.set("song_description",e.snippet.description),t.set("video_id",e.videoId),t.set("stream_url",e.audio_file),t.set("image_url",e.snippet.thumbnails.high.url),t.set("channel_url",e.snippet.channelId),t.set("channel_title",e.snippet.channelTitle),t.set("playlist","2"),M.a.post("http://127.0.0.1:8000/playlist_songs/2/",t,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(e){var t=e.data;Object(R.toast)(t.song_title+" saved successfully")})}},{key:"saved_song",value:function(e){this.setState({hidden:!0});var t=new FormData;t.set("song_title",e.snippet.title),t.set("song_description",e.snippet.description),t.set("video_id",e.videoId.videoId),t.set("stream_url",e.audio_file),t.set("image_url",e.snippet.thumbnails.high.url),t.set("channel_url",e.snippet.channelId),t.set("channel_title",e.snippet.channelTitle),M.a.post("http://127.0.0.1:8000/saved_songs/",t,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(e){var t=e.data;Object(R.toast)(t.song_title+" saved successfully")})}},{key:"remove_song",value:function(e,t){var a=this;this.setState({hidden:!0}),M.a.delete("http://127.0.0.1:8000/remove_saved/".concat(t,"/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(t){a.props.remove_song_adapt(e)})}},{key:"setPlaying",value:function(e,t){this.props.set_current(this.props.current_list),this.props.now_playing(e,t)}},{key:"addToQueue",value:function(e){this.setState({hidden:!0}),this.props.add_queue(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"song-row",onClick:function(){return e.setPlaying(e.props.playing,e.props.play_from)},key:this.props.playing.videoId.videoId},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-1 col-sm-2 col-xs-2 col-lg-1"},s.a.createElement("img",{alt:this.props.playing.snippet.title,width:"80",height:"80",src:this.props.playing.snippet.thumbnails.high.url})),s.a.createElement("div",{className:"col-md-11 col-sm-10 col-xs-10 col-lg-11 song-row-body"},s.a.createElement("p",{className:"detail-music-name"},t.clean(this.props.playing.snippet.title)),s.a.createElement("p",{className:"detail-music-artist"},t.clean(this.props.playing.snippet.channelTitle)),s.a.createElement("p",{className:"detail-music-song"},"Song"),s.a.createElement("div",{className:"option_container",onClick:function(t){return e.more_options(e.props.playing.snippet.title,t)}},s.a.createElement("img",{alt:"more options",className:"options",src:B.a}))))),s.a.createElement("div",{className:"option_list_container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-1"}),s.a.createElement("div",{className:"col-md-11"},this.state.hidden?"":s.a.createElement("div",{className:"option_list"},s.a.createElement("p",{onClick:function(){return e.addToQueue(e.props.playing)}},"Add to Queue"),s.a.createElement("p",null,"Go to Artist"),s.a.createElement("p",{onClick:function(){return e.showModal(e.props.playing)}},"Add to Playlist"),this.props.adapt?s.a.createElement("p",{onClick:function(){return e.remove_song(e.props.playing,e.props.adapt_id)}},"Remove from Saved Song"):s.a.createElement("p",{onClick:function(){return e.saved_song(e.props.playing)}},"Add to Saved Song"))))),s.a.createElement(R.ToastContainer,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"clean",value:function(e){return e.replace(/vevo/gi,"").replace(/official/gi,"")}}]),t}(n.Component)),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={songs:[],modal_shown:!1,playlist_loading:!1,playlist:[],playlist_selected_song:[]},a.modal=s.a.createRef(),a.closeModal=a.closeModal.bind(Object(p.a)(Object(p.a)(a))),a.showModal=a.showModal.bind(Object(p.a)(Object(p.a)(a))),a.handleOutsideClick=a.handleOutsideClick.bind(Object(p.a)(Object(p.a)(a))),a.getPlaylist=a.getPlaylist.bind(Object(p.a)(Object(p.a)(a))),a.removeSong=a.removeSong.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"closeModal",value:function(){this.setState({modal_shown:!1})}},{key:"showModal",value:function(e){this.setState({modal_shown:!0,playlist_selected_song:e})}},{key:"handleOutsideClick",value:function(e){e.target===this.modal.current&&this.closeModal()}},{key:"getPlaylist",value:function(){var e=this;this.setState({playlist_loading:!0}),M.a.get("".concat(I.BASE_URL,"playlist/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(t){var a=t.data;e.setState({playlist:a}),e.setState({playlist_loading:!1})})}},{key:"removeSong",value:function(e){var t=this.state.songs.filter(function(t){return t!==e});this.setState({songs:t})}},{key:"componentDidMount",value:function(){var e=this;M.a.get("".concat(I.BASE_URL,"saved_songs/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(t){var a=t.data,n=[];a.map(function(e){var t={};t.audio_file=e.stream_url,t.id=e.id,t.videoId={},t.videoId.videoId=e.video_id,t.snippet={},t.snippet.channelTitle=e.channel_title,t.snippet.title=e.song_title,t.snippet.channelId=e.channel_url,t.snippet.thumbnails={},t.snippet.thumbnails.high={},t.snippet.thumbnails.high.url=e.image_url,n.push(t)}),e.setState({songs:n})}),document.addEventListener("click",this.handleOutsideClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleOutsideClick,!1)}},{key:"handlePlaylistClick",value:function(e,t){var a=this,n=new FormData;n.set("song_title",e.snippet.title),n.set("song_description",e.snippet.description),n.set("video_id",e.videoId.videoId),n.set("stream_url",e.audio_file),n.set("image_url",e.snippet.thumbnails.high.url),n.set("channel_url",e.snippet.channelId),n.set("channel_title",e.snippet.channelTitle),n.set("playlist",t),M.a.post("".concat(I.BASE_URL,"playlist_songs/").concat(t,"/"),n,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(e){a.closeModal();var t=e.data;Object(R.toast)(t.song_title+" has been added to playlist")})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"app-container"},s.a.createElement("p",{className:"app-menu-name"},"Saved Songs"),s.a.createElement("h2",{className:"result-text"},"Your Saved Songs All In One Place"),s.a.createElement("div",{className:"song-container"},this.state.modal_shown?s.a.createElement("div",{id:"myModal",className:"modal-max",ref:this.modal},s.a.createElement("div",{className:"modal-content-max"},s.a.createElement("div",{className:"modal-header-max"},s.a.createElement("span",{className:"close",onClick:function(){return e.closeModal()}},"\xd7"),s.a.createElement("h2",null,"Select Playlist")),s.a.createElement("div",{className:"modal-body-max"},this.state.playlist_loading?s.a.createElement("div",{className:"lds-ring"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)):this.state.playlist.map(function(t){return s.a.createElement("p",{key:t.id,onClick:function(){return e.handlePlaylistClick(e.state.playlist_selected_song,t.id)}},t.name)})))):"","undefined"!==typeof this.state.songs&&this.state.songs.length>0?this.state.songs.map(function(t){return s.a.createElement(F,{key:t.id,playing:t,now_playing:e.props.now_playing,play_from:"detail",adapt:"saved",adapt_id:t.id,close_modal:e.closeModal,get_playlist:e.getPlaylist,show_modal:e.showModal,set_current:e.props.set_current,current_list:e.state.songs,remove_song_adapt:e.removeSong,add_queue:e.props.add_queue})}):""),s.a.createElement(R.ToastContainer,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}]),t}(n.Component),U=a(25),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={playlist:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.a.get("".concat(I.BASE_URL,"playlist"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(t){var a=t.data;e.setState({playlist:a})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"app-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("p",{className:"app-menu-name"},"My Playlists"),s.a.createElement("h2",{className:"result-text"},"Sit Back And Enjoy"),s.a.createElement(U.a,{to:"/playlist_create/"},"Create New Playlist"),s.a.createElement("div",{className:"playlist-container play_row"},this.state.playlist.map(function(e){return s.a.createElement(U.a,{to:"/playlist_detail/".concat(e.id),key:e.id},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10 playlist-box"},s.a.createElement("p",{className:"playlist_link"},e.name))))})))))}}]),t}(n.Component),W=a(95),z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={input:"",redirect:!1},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({input:t})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({redirect:!0})}},{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(W.a,{to:{pathname:"/detail/",state:{input:this.state.input}}}):s.a.createElement("div",{className:"app-container"},s.a.createElement("p",{className:"app-menu-name"},"Home"),s.a.createElement("h2",{className:"result-text"},"Browse & Download Music For Free"),s.a.createElement("h5",{className:"musicmaxx-text"},"MusicMaxx gives you instant access to millions of songs \u2013 from old favorites to the latest hits. Just hit play to stream anything you like."),s.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},s.a.createElement("input",{type:"text",value:this.state.input,onChange:function(t){return e.handleChange(t)},className:"search",placeholder:"Enter song name"})),s.a.createElement("p",{className:"search-phrase"},"Search for songs, artists and genres"))}}]),t}(n.Component),q=a(43),Q=a.n(q),H=a(44),V=a.n(H),X=a(45),G=a.n(X),Y=a(46),K=a.n(Y),Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handlePlay=a.handlePlay.bind(Object(p.a)(Object(p.a)(a))),a.progress=s.a.createRef(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"truncateString",value:function(e,t){return e.length>t?e.substring(0,t-3)+"...":e}},{key:"handlePlay",value:function(){this.props.is_playing?(this.props.set_play(),this.audio.pause()):(this.props.set_play(),this.audio.play())}},{key:"componentDidMount",value:function(){var e=this,t=this.audio;this.audio.addEventListener("timeupdate",function(){document.getElementById("play-bar").style.width=parseInt(t.currentTime/t.duration*100,10)+"%"}),this.audio.addEventListener("ended",function(){t.currentTime=0,e.props.next_play()})}},{key:"updateCurrent",value:function(e){var t=(e.pageX-this.progress.current.offsetLeft)/this.progress.current.offsetWidth;this.audio.currentTime=180*t}},{key:"clean",value:function(e){return e.replace(/vevo/gi,"").replace(/official/gi,"")}},{key:"render",value:function(){var e,t,a=this,n=this.props.song;return"detail"===this.props.play_location&&(e=s.a.createElement("div",{className:"player"},s.a.createElement("div",{className:"player-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2 col-sm-4"},s.a.createElement("img",{src:n.snippet.thumbnails.high.url,alt:"artwork",className:"track-artwork"}),s.a.createElement("p",{className:"track-name"},this.clean(this.truncateString(n.snippet.title,17))),s.a.createElement("p",{className:"track-artist"},this.clean(this.truncateString(n.snippet.channelTitle,20)))),s.a.createElement("div",{className:"col-md-2 col-sm-2 control-container"},s.a.createElement("p",{className:"player-controls"},s.a.createElement("img",{src:Q.a,alt:"previous",onClick:function(){return a.props.previous_song()}}),s.a.createElement("img",{className:"middle-control",src:this.props.is_playing?G.a:V.a,onClick:function(){return a.handlePlay()},alt:"pause"})," ",s.a.createElement("img",{src:K.a,onClick:function(){return a.props.next_play()},alt:"next"}))),s.a.createElement("div",{className:"col-md-5 col-sm-5 control-container"},s.a.createElement("div",{className:"progress",id:"base-progress",onClick:function(e){return a.updateCurrent(e)},ref:this.progress},s.a.createElement("div",{className:"progress-bar",id:"play-bar",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"}))),s.a.createElement("div",{className:"col-md-2"})))),t=n.audio_file),s.a.createElement("div",null,s.a.createElement("audio",{id:"player",className:n.time,ref:function(e){a.audio=e},src:t,autoPlay:!0}),0!==Object.keys(this.props.song).length?e:"")}}]),t}(n.Component);M.a.defaults.xsrfCookieName="csrftoken",M.a.defaults.xsrfHeaderName="X-CSRFToken";var $=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={songs:[],modal_shown:!1,playlist_loading:!1,playlist:[],playlist_selected_song:[],is_loading:!0},a.modal=s.a.createRef(),a.closeModal=a.closeModal.bind(Object(p.a)(Object(p.a)(a))),a.showModal=a.showModal.bind(Object(p.a)(Object(p.a)(a))),a.handleOutsideClick=a.handleOutsideClick.bind(Object(p.a)(Object(p.a)(a))),a.getPlaylist=a.getPlaylist.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"closeModal",value:function(){this.setState({modal_shown:!1})}},{key:"showModal",value:function(e){this.setState({modal_shown:!0,playlist_selected_song:e})}},{key:"handleOutsideClick",value:function(e){e.target===this.modal.current&&this.closeModal()}},{key:"getPlaylist",value:function(){var e=this;this.setState({playlist_loading:!0}),M.a.get("".concat(I.BASE_URL,"playlist/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(t){var a=t.data;e.setState({playlist:a}),e.setState({playlist_loading:!1})})}},{key:"componentDidMount",value:function(){var e=this,t=new FormData;t.set("q",this.props.location.state.input),M()({method:"post",url:"".concat(I.BASE_URL,"search/"),data:t}).then(function(t){var a=t.data;e.setState({is_loading:!1}),e.setState({songs:a})}),document.addEventListener("click",this.handleOutsideClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleOutsideClick,!1)}},{key:"handlePlaylistClick",value:function(e,t){var a=this,n=new FormData;n.set("song_title",e.snippet.title),n.set("song_description",e.snippet.description),n.set("video_id",e.videoId.videoId),n.set("stream_url",e.audio_file),n.set("image_url",e.snippet.thumbnails.high.url),n.set("channel_url",e.snippet.channelId),n.set("channel_title",e.snippet.channelTitle),n.set("playlist",t),M.a.post("http://127.0.0.1:8000/playlist_songs/".concat(t,"/"),n,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(e){a.closeModal();var t=e.data;Object(R.toast)(t.song_title+" has been added to playlist")})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"app-container"},s.a.createElement("p",{className:"app-menu-name"},"Results Page"),s.a.createElement("h2",{className:"result-text"},s.a.createElement("span",{className:"result-span"},"Showing songs for "),'"',this.props.location.state.input,'"'),s.a.createElement("h5",null,"Top Results"),s.a.createElement("div",{className:"song-container"},this.state.modal_shown?s.a.createElement("div",{id:"myModal",className:"modal-max",ref:this.modal},s.a.createElement("div",{className:"modal-content-max"},s.a.createElement("div",{className:"modal-header-max"},s.a.createElement("span",{className:"close",onClick:function(){return e.closeModal()}},"\xd7"),s.a.createElement("h2",null,"Select Playlist")),s.a.createElement("div",{className:"modal-body-max"},this.state.playlist_loading?s.a.createElement("div",{className:"lds-ring"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)):this.state.playlist.map(function(t){return s.a.createElement("p",{key:t.id,onClick:function(){return e.handlePlaylistClick(e.state.playlist_selected_song,t.id)}},t.name)})))):"",this.state.is_loading?s.a.createElement("div",{className:"lds-facebook"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)):"","undefined"!==typeof this.state.songs&&this.state.songs.length>0?this.state.songs.map(function(t){return s.a.createElement(F,{playing:t,now_playing:e.props.now_playing,play_from:"detail",close_modal:e.closeModal,get_playlist:e.getPlaylist,show_modal:e.showModal,set_current:e.props.set_current,current_list:e.state.songs,add_queue:e.props.add_queue})}):""),s.a.createElement(R.ToastContainer,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}]),t}(n.Component),ee=a(19),te=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:""},a.handle_change=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(ee.a)({},e);return a[t]=n,a})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.login_state?s.a.createElement(W.a,{to:{pathname:"/"}}):s.a.createElement("div",{className:"app-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("p",{className:"app-menu-name"},"Accounts ",this.props.login_state),s.a.createElement("h2",{className:"result-text"},"Login Today For An Amazing Experience"),s.a.createElement("div",{className:"form-container"},s.a.createElement("form",{onSubmit:function(t){return e.props.handle_login(t,e.state)}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement("input",{className:"form-control",name:"username",value:this.state.username,onChange:this.handle_change})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handle_change})),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))))}}]),t}(n.Component),ae=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:""},a.handle_change=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(ee.a)({},e);return a[t]=n,a})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"app-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("p",{className:"app-menu-name"},"Accounts"),s.a.createElement("h2",{className:"result-text"},"Register Today For An Amazing Experience"),s.a.createElement("div",{className:"form-container"},s.a.createElement("form",{onSubmit:function(t){return e.props.handle_signup(t,e.state)}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:this.handle_change})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,autoComplete:"current-password",onChange:this.handle_change})),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={songs:[],modal_shown:!1,playlist_loading:!1,playlist:[],playlist_selected_song:[]},a.modal=s.a.createRef(),a.closeModal=a.closeModal.bind(Object(p.a)(Object(p.a)(a))),a.showModal=a.showModal.bind(Object(p.a)(Object(p.a)(a))),a.handleOutsideClick=a.handleOutsideClick.bind(Object(p.a)(Object(p.a)(a))),a.getPlaylist=a.getPlaylist.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"closeModal",value:function(){this.setState({modal_shown:!1})}},{key:"showModal",value:function(e){this.setState({modal_shown:!0,playlist_selected_song:e})}},{key:"handleOutsideClick",value:function(e){e.target===this.modal.current&&this.closeModal()}},{key:"getPlaylist",value:function(){var e=this;this.setState({playlist_loading:!0}),M.a.get("".concat(I.BASE_URL,"playlist/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(t){var a=t.data;e.setState({playlist:a}),e.setState({playlist_loading:!1})})}},{key:"componentDidMount",value:function(){var e=this;M.a.get("".concat(I.BASE_URL,"playlist_songs/").concat(this.props.match.params.id,"/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(t){var a=t.data,n=[];a.map(function(e){var t={};t.audio_file=e.stream_url,t.videoId={},t.videoId.videoId=e.video_id,t.snippet={},t.snippet.channelTitle=e.channel_title,t.snippet.title=e.song_title,t.snippet.channelId=e.channel_url,t.snippet.thumbnails={},t.snippet.thumbnails.high={},t.snippet.thumbnails.high.url=e.image_url,n.push(t)}),e.setState({songs:n})}),document.addEventListener("click",this.handleOutsideClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleOutsideClick,!1)}},{key:"handlePlaylistClick",value:function(e,t){var a=this,n=new FormData;n.set("song_title",e.snippet.title),n.set("song_description",e.snippet.description),n.set("video_id",e.videoId.videoId),n.set("stream_url",e.audio_file),n.set("image_url",e.snippet.thumbnails.high.url),n.set("channel_url",e.snippet.channelId),n.set("channel_title",e.snippet.channelTitle),n.set("playlist",t),M.a.post("http://127.0.0.1:8000/playlist_songs/".concat(t,"/"),n,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(e){a.closeModal();var t=e.data;Object(R.toast)(t.song_title+" has been added to playlist")})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"app-container"},s.a.createElement("p",{className:"app-menu-name"},"My Playlists"),s.a.createElement("h2",{className:"result-text"},"Sit Back And Enjoy"),s.a.createElement("div",{className:"song-container"},this.state.modal_shown?s.a.createElement("div",{id:"myModal",className:"modal-max",ref:this.modal},s.a.createElement("div",{className:"modal-content-max"},s.a.createElement("div",{className:"modal-header-max"},s.a.createElement("span",{className:"close",onClick:function(){return e.closeModal()}},"\xd7"),s.a.createElement("h2",null,"Select Playlist")),s.a.createElement("div",{className:"modal-body-max"},this.state.playlist_loading?s.a.createElement("div",{className:"lds-ring"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)):this.state.playlist.map(function(t){return s.a.createElement("p",{key:t.id,onClick:function(){return e.handlePlaylistClick(e.state.playlist_selected_song,t.id)}},t.name)})))):"","undefined"!==typeof this.state.songs&&this.state.songs.length>0?this.state.songs.map(function(t){return s.a.createElement(F,{playing:t,now_playing:e.props.now_playing,play_from:"detail",close_modal:e.closeModal,get_playlist:e.getPlaylist,show_modal:e.showModal,set_current:e.props.set_current,current_list:e.state.songs,add_queue:e.props.add_queue})}):s.a.createElement("p",null,"There are no songs here ",s.a.createElement(U.a,{to:"/songs/"},"Add songs to Playlist"))),s.a.createElement(R.ToastContainer,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}]),t}(n.Component),se=a(17),le=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a.props.form_attribute.map(function(e){a.state[e.name]=""}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"submitForm",value:function(e){e.preventDefault(),this.props.submitAction(this.state)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-container"},s.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},this.props.form_attribute.map(function(t){return"textarea"===t.type?s.a.createElement("div",{className:"form-group",key:t.name},s.a.createElement("label",{className:"upper",htmlFor:t.name},t.name),s.a.createElement("textarea",{className:"form-control",name:t.name,placeholder:t.placeholder,value:e.state[t.name],onChange:function(a){return e.setState(Object(se.a)({},t.name,a.target.value))}})):s.a.createElement("div",{className:"form-group",key:t.name},s.a.createElement("label",{className:"upper",htmlFor:t.name},t.name),s.a.createElement("input",{className:"form-control",name:t.name,placeholder:t.placeholder,value:e.state[t.name],type:t.type,onChange:function(a){return e.setState(Object(se.a)({},t.name,a.target.value))}}))}),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={redirect:!1},a.submitAction=a.submitAction.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"submitAction",value:function(e){var t=this;M.a.post("".concat(I.BASE_URL,"playlist/"),e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(e){e.data;t.setState({redirect:!0})})}},{key:"render",value:function(){if(this.state.redirect)return s.a.createElement(W.a,{to:{pathname:"/playlist/"}});return s.a.createElement("div",{className:"app-container"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("p",{className:"app-menu-name"},"Create New Playlist"),s.a.createElement("h2",{className:"result-text"},"Make or Break Playlist here")),s.a.createElement(le,{submitAction:this.submitAction,form_attribute:[{name:"name",placeholder:"Playlist Name",type:"text"},{name:"description",placeholder:"Description",type:"textarea"}]}))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handle_login=function(e,t){e.preventDefault(),fetch("".concat(I.BASE_URL,"token-auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){localStorage.setItem("token",e.token),localStorage.setItem("id",e.user.id),a.setState({logged_in:!0,username:e.user.username,user_id:e.user.id,login_redirect:!0})})},a.handle_signup=function(e,t){e.preventDefault(),fetch("".concat(I.BASE_URL,"users/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){localStorage.setItem("token",e.token),localStorage.setItem("id",e.id),a.setState({logged_in:!0,username:e.username,user_id:e.id})})},a.handle_logout=function(){localStorage.removeItem("token"),localStorage.removeItem("id"),a.setState({logged_in:!1,username:"",user_id:"",login_redirect:!1})},a.state={logged_in:!!localStorage.getItem("token"),username:"",user_id:"",songs:[],is_loading:!0,is_playing:!1,now_playing:{},next_play:{},login_redirect:!1,play_from:""},a.stopLoading=a.stopLoading.bind(Object(p.a)(Object(p.a)(a))),a.setNowPlaying=a.setNowPlaying.bind(Object(p.a)(Object(p.a)(a))),a.setPlay=a.setPlay.bind(Object(p.a)(Object(p.a)(a))),a.setCurrentSong=a.setCurrentSong.bind(Object(p.a)(Object(p.a)(a))),a.getNextPlay=a.getNextPlay.bind(Object(p.a)(Object(p.a)(a))),a.getPreviousPlay=a.getPreviousPlay.bind(Object(p.a)(Object(p.a)(a))),a.addToQueue=a.addToQueue.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"addToQueue",value:function(e){var t=this.state.songs,a=this.state.songs.indexOf(this.state.now_playing);t.splice(a+1,0,e),this.setState(function(t){return{songs:Object(o.a)(t.songs).splice(a+1,0,e)}})}},{key:"componentDidMount",value:function(){var e=this;this.state.logged_in&&fetch("".concat(I.BASE_URL,"current_user/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then(function(e){return e.json()}).then(function(t){localStorage.setItem("id",t.id),e.setState({username:t.username,user_id:t.id})})}},{key:"setNowPlaying",value:function(e,t){0===this.state.songs.indexOf(e)?this.setState({next_play:this.state.songs[1]}):this.setState({next_play:this.state.songs[0]}),this.setState({now_playing:e,is_playing:!0,play_from:t})}},{key:"getNextPlay",value:function(){var e=this.state.songs.indexOf(this.state.now_playing);this.state.songs[this.state.songs.length-1]!==this.state.now_playing&&this.setState({now_playing:this.state.songs[e+1]})}},{key:"getPreviousPlay",value:function(){var e=this.state.songs.indexOf(this.state.now_playing);this.state.songs[0]!==this.state.now_playing&&this.setState({now_playing:this.state.songs[e-1]})}},{key:"stopLoading",value:function(){this.setState({is_loading:!1})}},{key:"setPlay",value:function(){this.setState({is_playing:!this.state.is_playing})}},{key:"setCurrentSong",value:function(e){this.setState({songs:e})}},{key:"render",value:function(){var e=this;return s.a.createElement(P.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(x,{logout:this.handle_logout,user:this.state.username}),s.a.createElement("div",{className:"content"},s.a.createElement(A.a,{exact:!0,path:"/",render:function(e){return s.a.createElement(z,e)}}),s.a.createElement(A.a,{path:"/songs/",render:function(t){return s.a.createElement(J,Object.assign({},t,{user_id:e.state.user_id,now_playing:e.setNowPlaying,add_queue:e.addToQueue,set_current:e.setCurrentSong}))}}),s.a.createElement(A.a,{path:"/login/",render:function(t){return s.a.createElement(te,Object.assign({},t,{handle_login:e.handle_login,login_state:e.state.login_redirect}))}}),s.a.createElement(A.a,{path:"/register/",render:function(t){return s.a.createElement(ae,Object.assign({},t,{handle_signup:e.handle_signup}))}}),s.a.createElement(A.a,{path:"/detail/",render:function(t){return s.a.createElement($,Object.assign({},t,{add_queue:e.addToQueue,is_loading:e.state.is_loading,now_playing:e.setNowPlaying,set_current:e.setCurrentSong}))}}),s.a.createElement(A.a,{path:"/playlist/",render:function(t){return s.a.createElement(D,Object.assign({},t,{now_playing:e.setNowPlaying}))}}),s.a.createElement(A.a,{path:"/playlist_create/",component:ie}),s.a.createElement(A.a,{path:"/playlist_detail/:id",render:function(t){return s.a.createElement(ne,Object.assign({},t,{now_playing:e.setNowPlaying,add_queue:e.addToQueue,set_current:e.setCurrentSong}))}})),s.a.createElement(Z,{song:this.state.now_playing,is_playing:this.state.is_playing,set_play:this.setPlay,play_location:this.state.play_from,next_play:this.getNextPlay,previous_song:this.getPreviousPlay})))}}]),t}(n.Component);i.a.render(s.a.createElement(oe,null),document.getElementById("root"))}},[[48,2,1]]]);
//# sourceMappingURL=main.0d6b74bf.chunk.js.map